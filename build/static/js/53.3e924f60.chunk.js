"use strict";(self.webpackChunkhts_frontend=self.webpackChunkhts_frontend||[]).push([[53],{8133:function(e,s,n){n.d(s,{ZR:function(){return o},pP:function(){return l},qm:function(){return c}});var r=n(4569),t=n.n(r),a=n(4245),i=t().create({baseURL:"/api"});function c(e){return i.get("/announcements".concat(e?"?isImportant=true":""))}function o(e){return i.get("/demo-tests?".concat(a.stringify(e.queryKey[1])))}function l(e){return i.get("/demo-tests/".concat(e))}},2053:function(e,s,n){n.r(s),n.d(s,{default:function(){return E}});var r=n(1413),t=n(9439),a=n(2791),i=n(6871),c=n(3504),o=n(4245),l=n(890),d=n(6445),u=n(8096),h=n(829),m=n(9321),v=n(3786),x=n(7621),j=n(3239),f=n(6151),Z=n(1405),p=n(1933),y=n(8133),g=n(1774),b=n(3433),N=n(8494),_=n(3619),q="DemoTests_filter__UYZpB",S="DemoTests_cards-container__pryCJ",k="DemoTests_record__QCKIk",T="DemoTests_record-item-name__rltA3",w="DemoTests_record-item-value__VWuaJ",C=n(184);var D=function(){var e,s=(0,i.UO)()._id,n=a.useState({}),r=(0,t.Z)(n,2),c=r[0],o=r[1],u=(0,Z.I0)(),h=(0,i.s0)(),m=(0,p.useQuery)(["demo-test",s],(function(){return(0,y.pP)(s)}),{onSuccess:function(e){var s=e.data;return o(s.demoTest)},onError:function(e){var s,n;u((0,g.ry)({message:(null===(s=e.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.error)||e.message})),h(-1)}}).isLoading,v=a.useState(0),x=(0,t.Z)(v,2),f=x[0],q=x[1],S=a.useState([]),D=(0,t.Z)(S,2),E=D[0],W=D[1];return a.useEffect((function(){return function(){return function(){return confirm("Are you sure you want to leave?")&&h("")}}}),[]),m?(0,C.jsx)("div",{className:"page-pre-loader",children:(0,C.jsx)(j.Z,{})}):(0,C.jsx)("div",{className:"block",children:(0,C.jsxs)(d.Z,{maxWidth:"md",className:"my-6",children:[(0,C.jsxs)("div",{className:"stack border-2 border-primary",children:[(0,C.jsx)(l.Z,{variant:"h4",className:"bg-primary text-center p-6 text-white",children:c.title}),(0,C.jsxs)("div",{className:"stack p-3",children:[(0,C.jsxs)("div",{className:k,children:[(0,C.jsx)(l.Z,{variant:"h6",color:"primary",className:T,children:"Subject:"}),(0,C.jsx)(l.Z,{variant:"h6",className:w,children:null===c||void 0===c?void 0:c.subject})]}),(0,C.jsxs)("div",{className:k,children:[(0,C.jsx)(l.Z,{variant:"h6",color:"primary",className:T,children:"Total Questions:"}),(0,C.jsx)(l.Z,{variant:"h6",className:w,children:null===c||void 0===c||null===(e=c.questions)||void 0===e?void 0:e.length})]}),(0,C.jsxs)("div",{className:k,children:[(0,C.jsx)(l.Z,{variant:"h6",color:"primary",className:T,children:"Created By:"}),(0,C.jsx)(l.Z,{variant:"h6",className:w,children:c.createdBy})]})]})]}),(0,C.jsxs)("div",{className:"w-full mx-auto",children:[c.questions&&f<c.questions.length&&c.questions.map((function(e,s){return f===s&&(0,C.jsx)(N.Z,{question:e,index:f,onSubmit:function(e){W([].concat((0,b.Z)(E),[e])),q(f+1)},onSkip:function(e){W([].concat((0,b.Z)(E),[e])),q(f+1)}},e._id)})),c.questions&&f>=c.questions.length&&(0,C.jsx)(_.Z,{questions:c.questions,answers:E,testId:c._id})]})]})})};var E=function(){var e=(0,i.TH)().search,s=a.useState(o.parse(e)),n=(0,t.Z)(s,2),b=n[0],N=n[1],_=a.useState([]),k=(0,t.Z)(_,2),T=k[0],w=k[1],E=(0,Z.I0)(),W=(0,p.useQuery)(["demo-tests",b],(function(e){return(0,y.ZR)(e)}),{onSuccess:function(e){return w(e.data.demoTests)},onError:function(e){var s,n;return E((0,g.ry)({message:(null===(s=e.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.error)||e.message}))}}),A=W.isLoading,B=W.isFetching,I=W.isError,Q=W.data,R=W.refetch,U=(0,i.s0)();return a.useEffect((function(){U("?".concat(o.stringify(b))),R(b)}),[b,U,R]),(0,C.jsxs)(i.Z5,{children:[(0,C.jsx)(i.AW,{index:!0,element:(0,C.jsxs)("div",{className:"block",children:[(0,C.jsx)(l.Z,{variant:"h6",color:"primary",align:"center",children:"Demo Tests"}),(0,C.jsxs)(d.Z,{maxWidth:"md",children:[(0,C.jsxs)("div",{className:q,children:[(0,C.jsx)(l.Z,{variant:"h6",children:"Filter"}),(0,C.jsx)("span",{className:"flex-grow w-full md:w-auto"}),(0,C.jsxs)(u.Z,{size:"small",sx:{minWidth:"130px"},children:[(0,C.jsx)(h.Z,{children:"Subject"}),(0,C.jsx)(m.Z,{label:"subject",size:"small",value:b.subject,onChange:function(e){return N((0,r.Z)((0,r.Z)({},b),{},{subject:e.target.value}))},children:["English","Math","Physics","Chemistery","Biology"].map((function(e){return(0,C.jsx)(v.Z,{value:e,children:e},e)}))})]})]}),Q&&(0,C.jsxs)("div",{className:S,children:[0===T.length&&(0,C.jsx)(l.Z,{variant:"body1",align:"center",children:"No tests available yet"}),T.map((function(e){return(0,C.jsx)(c.rU,{to:"/demo-tests/".concat(e._id),children:(0,C.jsxs)(x.Z,{elevation:2,className:"w-64 p-3 hover:bg-gray-100",children:[(0,C.jsx)(l.Z,{variant:"h6",color:"primary",align:"center",children:e.title}),(0,C.jsx)(l.Z,{variant:"body1",children:"Subject: ".concat(e.subject)}),(0,C.jsx)(l.Z,{variant:"body1",children:"Total questions: ".concat(e.questions.length)}),(0,C.jsx)(l.Z,{variant:"body1",children:"Created by: ".concat(e.createdBy)})]})})}))]}),A&&(0,C.jsx)("div",{className:"page-pre-loader",children:(0,C.jsx)(j.Z,{})}),I&&(!B||!A)&&(0,C.jsxs)("div",{className:"inline mx-auto",children:[(0,C.jsx)(l.Z,{variant:"body1",color:"error",children:"An error occured"}),(0,C.jsx)(f.Z,{onClick:function(){return R(b)},variant:"contained",children:"Reload"})]})]})]})}),(0,C.jsx)(i.AW,{path:"/:_id",element:(0,C.jsx)(D,{})})]})}}}]);
//# sourceMappingURL=53.3e924f60.chunk.js.map