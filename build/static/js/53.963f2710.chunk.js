"use strict";(self.webpackChunkhts_frontend=self.webpackChunkhts_frontend||[]).push([[53],{8133:function(e,r,n){n.d(r,{ZR:function(){return o},pP:function(){return l},qm:function(){return c}});var s=n(4569),t=n.n(s),a=n(4245),i=t().create({baseURL:"/api"});function c(e){return i.get("/announcements".concat(e?"?isImportant=true":""))}function o(e){return i.get("/demo-tests?".concat(a.stringify(e.queryKey[1])))}function l(e){return i.get("/demo-tests/".concat(e))}},2053:function(e,r,n){n.r(r),n.d(r,{default:function(){return T}});var s=n(1413),t=n(9439),a=n(2791),i=n(6871),c=n(3504),o=n(4245),l=n(890),d=n(6445),u=n(8096),m=n(829),h=n(9321),v=n(3786),x=n(7621),j=n(3239),f=n(6151),Z=n(1405),p=n(1933),y=n(8133),g=n(1774),b=n(3433),N=n(8494),_=n(3619),q={filter:"DemoTests_filter__UYZpB","cards-container":"DemoTests_cards-container__pryCJ",record:"DemoTests_record__QCKIk","record-item-name":"DemoTests_record-item-name__rltA3","record-item-value":"DemoTests_record-item-value__VWuaJ"},S=n(184);var k=function(){var e,r=(0,i.UO)()._id,n=a.useState({}),s=(0,t.Z)(n,2),c=s[0],o=s[1],u=(0,Z.I0)(),m=(0,i.s0)(),h=(0,p.useQuery)(["demo-test",r],(function(){return(0,y.pP)(r)}),{onSuccess:function(e){var r=e.data;return o(r.demoTest)},onError:function(e){var r,n;u((0,g.ry)({message:(null===(r=e.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||e.message})),m(-1)}}).isLoading,v=a.useState(0),x=(0,t.Z)(v,2),f=x[0],k=x[1],T=a.useState([]),w=(0,t.Z)(T,2),C=w[0],D=w[1];return a.useEffect((function(){return function(){return function(){return confirm("Are you sure you want to leave?")&&m("")}}}),[]),h?(0,S.jsx)("div",{className:"page-pre-loader",children:(0,S.jsx)(j.Z,{})}):(0,S.jsx)("div",{className:"block",children:(0,S.jsxs)(d.Z,{maxWidth:"md",className:"my-6",children:[(0,S.jsxs)("div",{className:"stack border-2 border-primary",children:[(0,S.jsx)(l.Z,{variant:"h4",className:"bg-primary text-center p-6 text-white",children:c.title}),(0,S.jsxs)("div",{className:"stack p-3",children:[(0,S.jsxs)("div",{className:q.record,children:[(0,S.jsx)(l.Z,{variant:"h6",color:"primary",className:q["record-item-name"],children:"Subject:"}),(0,S.jsx)(l.Z,{variant:"h6",className:q["record-item-value"],children:null===c||void 0===c?void 0:c.subject})]}),(0,S.jsxs)("div",{className:q.record,children:[(0,S.jsx)(l.Z,{variant:"h6",color:"primary",className:q["record-item-name"],children:"Total Questions:"}),(0,S.jsx)(l.Z,{variant:"h6",className:q["record-item-value"],children:null===c||void 0===c||null===(e=c.questions)||void 0===e?void 0:e.length})]}),(0,S.jsxs)("div",{className:q.record,children:[(0,S.jsx)(l.Z,{variant:"h6",color:"primary",className:q["record-item-name"],children:"Created By:"}),(0,S.jsx)(l.Z,{variant:"h6",className:q["record-item-value"],children:c.createdBy})]})]})]}),(0,S.jsxs)("div",{className:"w-full mx-auto",children:[c.questions&&f<c.questions.length&&c.questions.map((function(e,r){return f===r&&(0,S.jsx)(N.Z,{question:e,index:f,onSubmit:function(e){D([].concat((0,b.Z)(C),[e])),k(f+1)},onSkip:function(e){D([].concat((0,b.Z)(C),[e])),k(f+1)}},e._id)})),c.questions&&f>=c.questions.length&&(0,S.jsx)(_.Z,{questions:c.questions,answers:C,testId:c._id})]})]})})};var T=function(){var e=(0,i.TH)().search,r=a.useState(o.parse(e)),n=(0,t.Z)(r,2),b=n[0],N=n[1],_=a.useState([]),T=(0,t.Z)(_,2),w=T[0],C=T[1],D=(0,Z.I0)(),E=(0,p.useQuery)(["demo-tests",b],(function(e){return(0,y.ZR)(e)}),{onSuccess:function(e){return C(e.data.demoTests)},onError:function(e){var r,n;return D((0,g.ry)({message:(null===(r=e.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||e.message}))}}),W=E.isLoading,A=E.isFetching,B=E.isError,I=E.data,Q=E.refetch,R=(0,i.s0)();return a.useEffect((function(){R("?".concat(o.stringify(b))),Q(b)}),[b,R,Q]),(0,S.jsxs)(i.Z5,{children:[(0,S.jsx)(i.AW,{index:!0,element:(0,S.jsxs)("div",{className:"block",children:[(0,S.jsx)(l.Z,{variant:"h6",color:"primary",align:"center",children:"Demo Tests"}),(0,S.jsxs)(d.Z,{maxWidth:"md",children:[(0,S.jsxs)("div",{className:q.filter,children:[(0,S.jsx)(l.Z,{variant:"h6",children:"Filter"}),(0,S.jsx)("span",{className:"flex-grow w-full md:w-auto"}),(0,S.jsxs)(u.Z,{size:"small",sx:{minWidth:"130px"},children:[(0,S.jsx)(m.Z,{children:"Subject"}),(0,S.jsx)(h.Z,{label:"subject",size:"small",value:b.subject,onChange:function(e){return N((0,s.Z)((0,s.Z)({},b),{},{subject:e.target.value}))},children:["English","Math","Physics","Chemistery","Biology"].map((function(e){return(0,S.jsx)(v.Z,{value:e,children:e},e)}))})]})]}),I&&(0,S.jsxs)("div",{className:q["cards-container"],children:[0===w.length&&(0,S.jsx)(l.Z,{variant:"body1",align:"center",children:"No tests available yet"}),w.map((function(e){return(0,S.jsx)(c.rU,{to:"/demo-tests/".concat(e._id),children:(0,S.jsxs)(x.Z,{elevation:2,className:"w-64 p-3 hover:bg-gray-100",children:[(0,S.jsx)(l.Z,{variant:"h6",color:"primary",align:"center",children:e.title}),(0,S.jsx)(l.Z,{variant:"body1",children:"Subject: ".concat(e.subject)}),(0,S.jsx)(l.Z,{variant:"body1",children:"Total questions: ".concat(e.questions.length)}),(0,S.jsx)(l.Z,{variant:"body1",children:"Created by: ".concat(e.createdBy)})]})})}))]}),W&&(0,S.jsx)("div",{className:"page-pre-loader",children:(0,S.jsx)(j.Z,{})}),B&&(!A||!W)&&(0,S.jsxs)("div",{className:"inline mx-auto",children:[(0,S.jsx)(l.Z,{variant:"body1",color:"error",children:"An error occured"}),(0,S.jsx)(f.Z,{onClick:function(){return Q(b)},variant:"contained",children:"Reload"})]})]})]})}),(0,S.jsx)(i.AW,{path:"/:_id",element:(0,S.jsx)(k,{})})]})}}}]);
//# sourceMappingURL=53.963f2710.chunk.js.map